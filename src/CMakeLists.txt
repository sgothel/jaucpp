set (jaulib_LIB_INCLUDE_DIRS
  ${CMAKE_CURRENT_SOURCE_DIR}/../include
)

include_directories(
  ${jaulib_LIB_INCLUDE_DIRS}
  ${CMAKE_CURRENT_BINARY_DIR}
)

set (jaulib_LIB_SRCS
  dfa_utf8_decode.cpp
  environment.cpp
  debug.cpp
  basic_types.cpp
# autogenerated files
  ${CMAKE_CURRENT_BINARY_DIR}/version.cpp
)

add_library (jaulib SHARED ${jaulib_LIB_SRCS})
target_link_libraries (
  jaulib
  unwind
  ${CMAKE_THREAD_LIBS_INIT}
)

set_target_properties(
   jaulib
   PROPERTIES
   SOVERSION ${jaulib_VERSION_MAJOR}
   VERSION ${jaulib_VERSION_STRING}
)
install (DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/../include/jau/ DESTINATION include/jau)

# install(TARGETS jaulib LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR})

